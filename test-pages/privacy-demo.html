<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Night God Tarot - Privacy Consent Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1a0033 0%, #000814 50%, #1a0033 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Privacy Modal Styles */
        .privacy-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #1a0033 0%, #000814 50%, #1a0033 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }

        .privacy-modal {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 215, 0, 0.2);
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
            padding-bottom: 30px;
        }

        .mystical-symbol {
            font-size: 60px;
            margin-bottom: 20px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700, 0 0 30px #ffd700; }
            to { text-shadow: 0 0 20px #ffd700, 0 0 30px #ffd700, 0 0 40px #ffd700; }
        }

        .brand-title {
            font-size: 36px;
            font-weight: 700;
            color: #ffd700;
            margin: 0 0 10px 0;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .brand-subtitle {
            font-size: 18px;
            color: #cbd5e1;
            margin: 0;
            font-style: italic;
        }

        .modal-content {
            color: #ffffff;
            line-height: 1.6;
        }

        .consent-section {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            border-left: 4px solid #ffd700;
        }

        .section-title {
            font-size: 24px;
            color: #ffd700;
            margin: 0 0 15px 0;
            font-weight: 600;
        }

        .section-subtitle {
            font-size: 20px;
            color: #ffd700;
            margin: 0 0 12px 0;
            font-weight: 600;
        }

        .consent-text,
        .privacy-text {
            font-size: 16px;
            color: #e2e8f0;
            margin: 0 0 15px 0;
        }

        .privacy-section {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .privacy-list {
            margin: 15px 0;
            padding-left: 20px;
        }

        .privacy-list li {
            font-size: 15px;
            color: #cbd5e1;
            margin-bottom: 8px;
            list-style-type: none;
            position: relative;
        }

        .privacy-list li::before {
            content: "🔮";
            position: absolute;
            left: -20px;
            top: 0;
        }

        .privacy-note {
            font-size: 14px;
            color: #94a3b8;
            font-style: italic;
            margin-top: 15px;
        }

        .contact-info {
            background: rgba(139, 92, 246, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .contact-info p {
            margin: 5px 0;
            font-size: 14px;
        }

        .contact-info a {
            color: #8b5cf6;
            text-decoration: none;
        }

        .contact-info a:hover {
            text-decoration: underline;
        }

        .khrael-section {
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
        }

        .khrael-text {
            font-size: 16px;
            color: #ffffff;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .khrael-symbol {
            font-size: 24px;
            color: #ffd700;
            margin: 15px 0;
            font-family: 'Times New Roman', serif;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .khrael-translation {
            font-size: 14px;
            color: #e2e8f0;
            font-style: italic;
            margin-top: 10px;
        }

        .modal-actions {
            display: flex;
            gap: 20px;
            margin-top: 40px;
            justify-content: center;
        }

        .btn-disagree,
        .btn-agree {
            padding: 15px 40px;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
            position: relative;
        }

        .btn-disagree {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: #ffffff;
        }

        .btn-disagree:hover:not(.loading) {
            background: linear-gradient(135deg, #b91c1c, #991b1b);
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(220, 38, 38, 0.3);
        }

        .btn-agree {
            background: linear-gradient(135deg, #10b981, #059669);
            color: #ffffff;
        }

        .btn-agree:hover:not(.loading) {
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(16, 185, 129, 0.3);
        }

        .btn-disagree.loading,
        .btn-agree.loading {
            pointer-events: none;
            opacity: 0.8;
        }

        .loading-spinner {
            display: inline-block;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .fine-print {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 12px;
            color: #94a3b8;
        }

        .fine-print p {
            margin: 5px 0;
        }

        /* Language Selector */
        .language-selector {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .lang-btn {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ffd700;
        }

        .lang-btn.active {
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #1a1a2e;
            border-color: #ffd700;
        }

        /* Welcome Notification */
        .welcome-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 20px 40px;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            z-index: 11000;
            opacity: 1;
            transition: opacity 0.5s ease;
            display: none;
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-direction: column;
            text-align: center;
        }

        .notification-icon {
            font-size: 30px;
        }

        .notification-text {
            font-size: 18px;
            font-weight: 600;
        }

        .khrael-welcome {
            font-size: 16px;
            color: #ffd700;
            font-family: 'Times New Roman', serif;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        /* Main Content (hidden until consent given) */
        .main-content {
            display: none;
            padding: 40px 20px;
            text-align: center;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .main-content h1 {
            font-size: 48px;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .main-content p {
            font-size: 20px;
            color: #cbd5e1;
            margin-bottom: 30px;
        }

        .demo-button {
            padding: 15px 30px;
            background: linear-gradient(135deg, #8b5cf6, #6366f1);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(139, 92, 246, 0.3);
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .privacy-modal {
                padding: 20px;
                margin: 10px;
                max-height: 95vh;
            }
            
            .brand-title {
                font-size: 28px;
            }
            
            .modal-actions {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn-disagree,
            .btn-agree {
                width: 100%;
                padding: 12px 20px;
                font-size: 16px;
            }
        }

        /* Scrollbar Styling */
        .privacy-modal::-webkit-scrollbar {
            width: 8px;
        }

        .privacy-modal::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .privacy-modal::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            border-radius: 4px;
        }

        .privacy-modal::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #ff8c00, #ffd700);
        }
    </style>
</head>
<body>
    <!-- Privacy Consent Modal -->
    <div class="privacy-overlay" id="privacyOverlay">
        <div class="privacy-modal">
            <!-- Header -->
            <div class="modal-header">
                <div class="logo-section">
                    <div class="mystical-symbol">🌙</div>
                    <h1 class="brand-title">Night God Tarot Privacy Policy</h1>
                    <p class="brand-subtitle">by Yesin Yagami - Fantasy Novelist & AI Instructor</p>
                </div>
                
                <!-- Language Selector -->
                <div class="language-selector">
                    <button class="lang-btn active" onclick="console.log('Button clicked: en'); switchLanguage('en', this);">English</button>
                    <button class="lang-btn" onclick="console.log('Button clicked: zh-cn'); switchLanguage('zh-cn', this);">简体中文</button>
                    <button class="lang-btn" onclick="console.log('Button clicked: zh-tw'); switchLanguage('zh-tw', this);">繁體中文</button>
                    <button class="lang-btn" onclick="console.log('Button clicked: ja'); switchLanguage('ja', this);">日本語</button>
                </div>
                <!-- Debug test button -->
                <button onclick="simpleTest()" style="background: red; color: white; padding: 10px; margin: 10px;">TEST BUTTON</button>
            </div>

            <!-- Privacy Policy Content -->
            <div class="modal-content" id="modalContent">
                <div class="consent-section">
                    <h2 class="section-title">Consent Statement</h2>
                    <p class="consent-text">Before accessing or using this website, please read the following Privacy Policy carefully. By clicking "I Agree," you confirm that you have read, understood, and consent to the collection, use, and processing of your personal data as described herein. If you select "I Disagree," you will not be able to proceed and may be redirected away from the website.</p>
                </div>

                <!-- IP Data Collection -->
                <div class="privacy-section">
                    <h3 class="section-subtitle">IP Data Collection and Use Notice</h3>
                    <p class="privacy-text">This website may automatically collect your Internet Protocol (IP) address when you browse or use our services. The IP address is technical information used to identify your network device and ensure proper connection to the website. We collect IP addresses for purposes including but not limited to:</p>
                    <ul class="privacy-list">
                        <li>Website Functionality: To ensure the website operates normally and provides the services you request, such as tarot card reading features.</li>
                        <li>Security Protection: To monitor and prevent unauthorized access, fraud, or other potential security threats.</li>
                        <li>Statistical Analysis: To collect anonymized traffic data for analyzing website usage and improving user experience.</li>
                    </ul>
                    <p class="privacy-note">Your IP address will be stored in an encrypted manner and accessed only by authorized personnel when necessary. We will not combine your IP address with other personally identifiable information unless you voluntarily provide such data. Unless required by law or with your consent, we will not disclose your IP address to third parties.</p>
                </div>

                <!-- Email Data Collection -->
                <div class="privacy-section">
                    <h3 class="section-subtitle">Email Data Collection and Use Notice</h3>
                    <p class="privacy-text">If you choose to register an account, subscribe to newsletters, submit inquiries, or participate in other interactive features on this website, we may collect your email address. The purposes of collecting email addresses include but not limited to:</p>
                    <ul class="privacy-list">
                        <li>Account Management: For registration, login, or password reset to ensure smooth use of personalized services on the website.</li>
                        <li>Communication and Notifications: To send you information related to tarot card readings, updates, or responses to your inquiries.</li>
                        <li>Marketing Promotions: If you consent to receive marketing information, we may send you promotional content or special offers.</li>
                    </ul>
                </div>

                <!-- User Rights -->
                <div class="privacy-section">
                    <h3 class="section-subtitle">Your Rights and Choices</h3>
                    <ul class="privacy-list">
                        <li>You may opt out of receiving marketing emails at any time by clicking the "Unsubscribe" link in the emails.</li>
                        <li>You have the right to access, modify, or delete the email data we have collected about you. Please contact us via the provided contact methods on the website.</li>
                    </ul>
                </div>

                <!-- Data Protection -->
                <div class="privacy-section">
                    <h3 class="section-subtitle">Data Protection</h3>
                    <p class="privacy-text">We implement appropriate technical and organizational measures to protect your email data from unauthorized access, loss, or disclosure. Your email address will be accessed only by authorized personnel when necessary and will not be shared with third parties without your consent, except as required by law.</p>
                </div>

                <!-- Contact Information -->
                <div class="privacy-section">
                    <h3 class="section-subtitle">Contact Information</h3>
                    <p class="privacy-text">If you have any questions about this Privacy Policy or our data handling practices, please contact us via the following methods:</p>
                    <div class="contact-info">
                        <p><strong>Creator:</strong> Yesin Yagami</p>
                        <p><strong>Website:</strong> <a href="https://yesinyagami.carrd.co/" target="_blank">https://yesinyagami.carrd.co/</a></p>
                        <p><strong>Email:</strong> contact@nightgodtarot.com</p>
                    </div>
                </div>

                <!-- Khrael Language Section -->
                <div class="khrael-section">
                    <p class="khrael-text">In the ancient Khrael language, we say:</p>
                    <p class="khrael-symbol">𐌰𐌲𐍂𐌴𐌴 𐍉𐍂 𐌳𐌹𐍃𐌰𐌲𐍂𐌴𐌴</p>
                    <p class="khrael-translation">"Agree or Disagree - The choice shapes your destiny"</p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="modal-actions">
                <button 
                    onclick="disagree()" 
                    class="btn-disagree"
                    id="disagreeBtn"
                >
                    <span>I Disagree</span>
                </button>
                
                <button 
                    onclick="agree()" 
                    class="btn-agree"
                    id="agreeBtn"
                >
                    <span>I Agree</span>
                </button>
            </div>

            <!-- Fine Print -->
            <div class="fine-print">
                <p>Last Updated: <span id="currentDate"></span></p>
                <p>Version: Night God Tarot v2025.1.0</p>
            </div>
        </div>
    </div>

    <!-- Welcome Notification -->
    <div class="welcome-notification" id="welcomeNotification">
        <div class="notification-content">
            <span class="notification-icon">🌙</span>
            <span class="notification-text">Welcome to the Night God Tarot universe! Your journey begins now.</span>
            <span class="khrael-welcome">𐌷𐌴𐍂𐌴𐌰𐌽 𐌰𐍅𐌰𐌺𐌴𐌽𐍃</span>
        </div>
    </div>

    <!-- Main Content (shown after consent) -->
    <div class="main-content" id="mainContent">
        <h1>🔮 Night God Tarot</h1>
        <p>Welcome! You have successfully consented to our privacy policy.</p>
        <p>Experience the most advanced AI-driven tarot platform with Yesin Yagami's mystical universe.</p>
        <button class="demo-button" onclick="goToMainSite()">
            Enter the Night God Universe
        </button>
    </div>

    <script>
        // Translations object
        const translations = {
            en: {
                title: "Night God Tarot Privacy Policy",
                subtitle: "by Yesin Yagami - Fantasy Novelist & AI Instructor",
                consentTitle: "Consent Statement",
                consentText: "Before accessing or using this website, please read the following Privacy Policy carefully. By clicking \"I Agree,\" you confirm that you have read, understood, and consent to the collection, use, and processing of your personal data as described herein. If you select \"I Disagree,\" you will not be able to proceed and may be redirected away from the website.",
                
                ipTitle: "IP Data Collection and Use Notice",
                ipDescription: "This website may automatically collect your Internet Protocol (IP) address when you browse or use our services. The IP address is technical information used to identify your network device and ensure proper connection to the website. We collect IP addresses for purposes including but not limited to:",
                ipPurpose1: "Website Functionality: To ensure the website operates normally and provides the services you request, such as tarot card reading features.",
                ipPurpose2: "Security Protection: To monitor and prevent unauthorized access, fraud, or other potential security threats.",
                ipPurpose3: "Statistical Analysis: To collect anonymized traffic data for analyzing website usage and improving user experience.",
                ipProtection: "Your IP address will be stored in an encrypted manner and accessed only by authorized personnel when necessary. We will not combine your IP address with other personally identifiable information unless you voluntarily provide such data. Unless required by law or with your consent, we will not disclose your IP address to third parties.",
                
                emailTitle: "Email Data Collection and Use Notice",
                emailDescription: "If you choose to register an account, subscribe to newsletters, submit inquiries, or participate in other interactive features on this website, we may collect your email address. The purposes of collecting email addresses include but are not limited to:",
                emailPurpose1: "Account Management: For registration, login, or password reset to ensure smooth use of personalized services on the website.",
                emailPurpose2: "Communication and Notifications: To send you information related to tarot card readings, updates, or responses to your inquiries.",
                emailPurpose3: "Marketing Promotions: If you consent to receive marketing information, we may send you promotional content or special offers.",
                
                rightsTitle: "Your Rights and Choices",
                right1: "You may opt out of receiving marketing emails at any time by clicking the \"Unsubscribe\" link in the emails.",
                right2: "You have the right to access, modify, or delete the email data we have collected about you. Please contact us via the provided contact methods on the website.",
                
                protectionTitle: "Data Protection",
                protectionText: "We implement appropriate technical and organizational measures to protect your email data from unauthorized access, loss, or disclosure. Your email address will be accessed only by authorized personnel when necessary and will not be shared with third parties without your consent, except as required by law.",
                
                contactTitle: "Contact Information",
                contactText: "If you have any questions about this Privacy Policy or our data handling practices, please contact us via the following methods:",
                creator: "Creator",
                website: "Website",
                email: "Email",
                
                khraelWisdom: "In the ancient Khrael language, we say:",
                khraelTranslation: "\"Agree or Disagree - The choice shapes your destiny\"",
                agree: "I Agree",
                disagree: "I Disagree",
                welcomeMessage: "Welcome to the Night God Tarot universe! Your journey begins now."
            },
            'zh-cn': {
                title: "夜神塔罗隐私政策",
                subtitle: "创作者：Yesin Yagami - 幻想小说家与AI导师",
                consentTitle: "同意声明",
                consentText: "在访问或使用本网站之前，请仔细阅读以下隐私政策。点击"我同意"，即表示您已阅读、理解并同意按照本政策收集、使用和处理您的个人数据。如果您选择"我不同意"，将无法继续使用本网站，可能会被重定向离开。",
                ipTitle: "IP数据收集和使用说明",
                ipDescription: "当您浏览或使用我们的服务时，本网站可能会自动收集您的互联网协议（IP）地址。IP地址是用于识别您的网络设备并确保与网站正常连接的技术信息。我们收集IP地址的目的包括但不限于：",
                ipPurpose1: "网站功能：确保网站正常运行并提供您请求的服务，如塔罗牌占卜功能。",
                ipPurpose2: "安全保护：监控和防止未经授权的访问、欺诈或其他潜在安全威胁。",
                ipPurpose3: "统计分析：收集匿名流量数据，分析网站使用情况并改善用户体验。",
                ipProtection: "您的IP地址将以加密方式存储，只有在必要时由授权人员访问。除非您自愿提供其他个人身份信息，否则我们不会将您的IP地址与其他信息结合。除非法律要求或经您同意，我们不会向第三方披露您的IP地址。",
                
                emailTitle: "邮箱数据收集和使用说明",
                emailDescription: "如果您选择注册账户、订阅通讯、提交询问或参与本网站的其他互动功能，我们可能会收集您的邮箱地址。收集邮箱地址的目的包括但不限于：",
                emailPurpose1: "账户管理：用于注册、登录或密码重置，确保您顺利使用网站的个性化服务。",
                emailPurpose2: "沟通和通知：向您发送与塔罗牌占卜相关的信息、更新或对您询问的回复。",
                emailPurpose3: "营销推广：如果您同意接收营销信息，我们可能会向您发送促销内容或特别优惠。",
                
                rightsTitle: "您的权利和选择",
                right1: "您可以随时通过点击邮件中的\"取消订阅\"链接来停止接收营销邮件。",
                right2: "您有权访问、修改或删除我们收集的关于您的邮箱数据。请通过网站提供的联系方式与我们联系。",
                
                protectionTitle: "数据保护",
                protectionText: "我们实施适当的技术和组织措施来保护您的邮箱数据免受未经授权的访问、丢失或披露。您的邮箱地址只有在必要时由授权人员访问，未经您同意不会与第三方共享，除非法律要求。",
                
                contactTitle: "联系信息",
                contactText: "如果您对本隐私政策或我们的数据处理方式有任何疑问，请通过以下方式联系我们：",
                creator: "创作者",
                website: "网站",
                email: "邮箱",
                
                khraelWisdom: "在古老的赫雷语中，我们说：",
                khraelTranslation: "「同意或不同意 - 选择塑造你的命运」",
                agree: "我同意",
                disagree: "我不同意",
                welcomeMessage: "欢迎来到夜神塔罗宇宙！您的旅程现在开始。"
            },
            'zh-tw': {
                title: "夜神塔羅隱私政策",
                subtitle: "創作者：Yesin Yagami - 奇幻小說家與AI導師",
                consentTitle: "同意聲明",
                consentText: "在訪問或使用本網站之前，請仔細閱讀以下隱私政策。點擊「我同意」，即表示您已閱讀、理解並同意按照本政策收集、使用和處理您的個人資料。如果您選擇「我不同意」，將無法繼續使用本網站，可能會被重新導向離開。",
                ipTitle: "IP資料收集和使用說明",
                ipDescription: "當您瀏覽或使用我們的服務時，本網站可能會自動收集您的網際網路協定（IP）位址。IP位址是用於識別您的網路設備並確保與網站正常連線的技術資訊。我們收集IP位址的目的包括但不限於：",
                ipPurpose1: "網站功能：確保網站正常運行並提供您請求的服務，如塔羅牌占卜功能。",
                ipPurpose2: "安全保護：監控和防止未經授權的訪問、詐騙或其他潛在安全威脅。",
                ipPurpose3: "統計分析：收集匿名流量資料，分析網站使用情況並改善用戶體驗。",
                ipProtection: "您的IP位址將以加密方式儲存，只有在必要時由授權人員訪問。除非您自願提供其他個人身份資訊，否則我們不會將您的IP位址與其他資訊結合。除非法律要求或經您同意，我們不會向第三方披露您的IP位址。",
                
                emailTitle: "電郵資料收集和使用說明",
                emailDescription: "如果您選擇註冊帳戶、訂閱通訊、提交查詢或參與本網站的其他互動功能，我們可能會收集您的電郵位址。收集電郵位址的目的包括但不限於：",
                emailPurpose1: "帳戶管理：用於註冊、登入或密碼重設，確保您順利使用網站的個人化服務。",
                emailPurpose2: "溝通和通知：向您發送與塔羅牌占卜相關的資訊、更新或對您查詢的回覆。",
                emailPurpose3: "行銷推廣：如果您同意接收行銷資訊，我們可能會向您發送促銷內容或特別優惠。",
                
                rightsTitle: "您的權利和選擇",
                right1: "您可以隨時透過點擊郵件中的\"取消訂閱\"連結來停止接收行銷郵件。",
                right2: "您有權訪問、修改或刪除我們收集的關於您的電郵資料。請透過網站提供的聯絡方式與我們聯絡。",
                
                protectionTitle: "資料保護",
                protectionText: "我們實施適當的技術和組織措施來保護您的電郵資料免受未經授權的訪問、遺失或披露。您的電郵位址只有在必要時由授權人員訪問，未經您同意不會與第三方共享，除非法律要求。",
                
                contactTitle: "聯絡資訊",
                contactText: "如果您對本隱私政策或我們的資料處理方式有任何疑問，請透過以下方式聯絡我們：",
                creator: "創作者",
                website: "網站",
                email: "電郵",
                
                khraelWisdom: "在古老的赫雷語中，我們說：",
                khraelTranslation: "「同意或不同意 - 選擇塑造你的命運」",
                agree: "我同意",
                disagree: "我不同意",
                welcomeMessage: "歡迎來到夜神塔羅宇宙！您的旅程現在開始。"
            },
            ja: {
                title: "ナイトゴッドタロット プライバシーポリシー",
                subtitle: "作者：Yesin Yagami - ファンタジー小説家＆AI講師",
                consentTitle: "同意に関する声明",
                consentText: "本ウェブサイトにアクセスまたは使用する前に、以下のプライバシーポリシーをよくお読みください。「同意する」をクリックすることで、本ポリシーに記載されている個人データの収集、使用、処理について読み、理解し、同意することを確認したことになります。「同意しない」を選択した場合、続行することができず、ウェブサイトから離れる可能性があります。",
                ipTitle: "IPデータの収集と使用に関する通知",
                ipDescription: "本ウェブサイトは、お客様がサービスを閲覧または使用する際に、自動的にインターネットプロトコル（IP）アドレスを収集する場合があります。IPアドレスは、お客様のネットワークデバイスを識別し、ウェブサイトへの適切な接続を確保するために使用される技術情報です。IPアドレスを収集する目的には以下が含まれますが、これらに限定されません：",
                ipPurpose1: "ウェブサイト機能：ウェブサイトが正常に動作し、タロットカード占いなどのお客様が要求するサービスを提供するため。",
                ipPurpose2: "セキュリティ保護：不正アクセス、詐欺、その他の潜在的なセキュリティ脅威を監視し、防止するため。",
                ipPurpose3: "統計分析：ウェブサイトの使用状況を分析し、ユーザーエクスペリエンスを向上させるために匿名化されたトラフィックデータを収集するため。",
                ipProtection: "お客様のIPアドレスは暗号化された方法で保存され、必要な場合にのみ権限のある担当者がアクセスします。お客様が自発的にそのようなデータを提供しない限り、IPアドレスを他の個人識別可能な情報と組み合わせることはありません。法律で要求される場合またはお客様の同意がある場合を除き、IPアドレスを第三者に開示することはありません。",
                
                emailTitle: "メールデータの収集と使用に関する通知",
                emailDescription: "お客様がアカウント登録、ニュースレターの購読、お問い合わせの送信、またはこのウェブサイトの他のインタラクティブ機能への参加を選択した場合、お客様のメールアドレスを収集する場合があります。メールアドレスを収集する目的には以下が含まれますが、これらに限定されません：",
                emailPurpose1: "アカウント管理：登録、ログイン、またはパスワードリセットのため、ウェブサイトのパーソナライズされたサービスの円滑な使用を確保するため。",
                emailPurpose2: "コミュニケーションと通知：タロットカード占いに関連する情報、更新、またはお客様のお問い合わせへの返信を送信するため。",
                emailPurpose3: "マーケティングプロモーション：お客様がマーケティング情報の受信に同意した場合、プロモーションコンテンツや特別オファーを送信する場合があります。",
                
                rightsTitle: "お客様の権利と選択",
                right1: "メールの\"配信停止\"リンクをクリックすることで、いつでもマーケティングメールの受信を停止することができます。",
                right2: "お客様について収集したメールデータにアクセス、修正、または削除する権利があります。ウェブサイトに記載されている連絡方法でお問い合わせください。",
                
                protectionTitle: "データ保護",
                protectionText: "お客様のメールデータを不正アクセス、紛失、または開示から保護するために、適切な技術的および組織的措置を講じています。お客様のメールアドレスは必要な場合にのみ権限のある担当者がアクセスし、お客様の同意なしに第三者と共有されることはありません（法律で要求される場合を除く）。",
                
                contactTitle: "連絡先情報",
                contactText: "このプライバシーポリシーまたは当社のデータ処理方法について質問がある場合は、以下の方法でお問い合わせください：",
                creator: "作者",
                website: "ウェブサイト",
                email: "メール",
                
                khraelWisdom: "古代のクラエル語では、このように言います：",
                khraelTranslation: "「同意するか否か - 選択があなたの運命を形作る」",
                agree: "同意する",
                disagree: "同意しない",
                welcomeMessage: "ナイトゴッドタロットの宇宙へようこそ！あなたの旅が今始まります。"
            }
        };

        let currentLanguage = 'en';
        let isProcessing = false;
        
        // Test function to verify JavaScript is working
        window.testLanguageSwitch = function(lang) {
            console.log('Test function called with:', lang);
            switchLanguage(lang, null);
        };
        
        // Simple test function for debugging
        window.simpleTest = function() {
            alert('JavaScript is working!');
            console.log('Simple test function executed');
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing...');
            
            // Set current date
            const currentDateEl = document.getElementById('currentDate');
            if (currentDateEl) {
                currentDateEl.textContent = new Date().toLocaleDateString();
            }
            
            // Add event listeners to language buttons as backup
            const langButtons = document.querySelectorAll('.lang-btn');
            console.log('Found language buttons:', langButtons.length);
            
            langButtons.forEach((button, index) => {
                const langCode = ['en', 'zh-cn', 'zh-tw', 'ja'][index];
                console.log('Setting up listener for button', index, 'language:', langCode);
                
                // Add backup event listener
                button.addEventListener('click', function(e) {
                    console.log('Event listener fired for:', langCode);
                    switchLanguage(langCode, this);
                });
            });
            
            // Test if functions are accessible
            console.log('switchLanguage function exists:', typeof switchLanguage === 'function');
            console.log('updateContent function exists:', typeof updateContent === 'function');
            console.log('translations object exists:', typeof translations === 'object');
            
            // Check if consent already given
            const consent = localStorage.getItem('nightgod_privacy_consent');
            if (consent === 'agreed') {
                if (typeof showMainContent === 'function') {
                    showMainContent();
                }
            }
        });

        function switchLanguage(lang, element) {
            console.log('switchLanguage called with:', lang, element);
            
            currentLanguage = lang;
            
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Find the button that was clicked
            const clickedButton = element || document.querySelector(`[onclick*="switchLanguage('${lang}')"]`);
            if (clickedButton) {
                clickedButton.classList.add('active');
            }
            
            console.log('About to call updateContent()');
            // Update content
            updateContent();
            console.log('updateContent() completed');
        }

        function updateContent() {
            console.log('updateContent called with language:', currentLanguage);
            const t = translations[currentLanguage];
            console.log('Translation object exists:', !!t);
            
            if (!t) {
                console.error('No translation found for language:', currentLanguage);
                return;
            }
            
            // Update main titles
            const titleEl = document.querySelector('.brand-title');
            const subtitleEl = document.querySelector('.brand-subtitle');
            console.log('Title element found:', !!titleEl, 'Subtitle element found:', !!subtitleEl);
            
            if (titleEl) titleEl.textContent = t.title;
            if (subtitleEl) subtitleEl.textContent = t.subtitle;
            console.log('Updated main titles');
            
            // Update section titles and content
            document.querySelector('.section-title').textContent = t.consentTitle;
            document.querySelector('.consent-text').textContent = t.consentText;
            
            // Update privacy sections specifically
            const privacySections = document.querySelectorAll('.privacy-section');
            
            // IP Section (first privacy section)
            if (privacySections[0]) {
                const ipSubtitle = privacySections[0].querySelector('.section-subtitle');
                const ipText = privacySections[0].querySelector('.privacy-text');
                const ipListItems = privacySections[0].querySelectorAll('.privacy-list li');
                const ipNote = privacySections[0].querySelector('.privacy-note');
                
                if (ipSubtitle) ipSubtitle.textContent = t.ipTitle;
                if (ipText) ipText.textContent = t.ipDescription;
                if (ipListItems[0]) ipListItems[0].textContent = t.ipPurpose1;
                if (ipListItems[1]) ipListItems[1].textContent = t.ipPurpose2;
                if (ipListItems[2]) ipListItems[2].textContent = t.ipPurpose3;
                if (ipNote) ipNote.textContent = t.ipProtection;
            }
            
            // Email Section (second privacy section)
            if (privacySections[1]) {
                const emailSubtitle = privacySections[1].querySelector('.section-subtitle');
                const emailText = privacySections[1].querySelector('.privacy-text');
                const emailListItems = privacySections[1].querySelectorAll('.privacy-list li');
                
                if (emailSubtitle) emailSubtitle.textContent = t.emailTitle;
                if (emailText) emailText.textContent = t.emailDescription;
                if (emailListItems[0]) emailListItems[0].textContent = t.emailPurpose1;
                if (emailListItems[1]) emailListItems[1].textContent = t.emailPurpose2;
                if (emailListItems[2]) emailListItems[2].textContent = t.emailPurpose3;
            }
            
            // Rights Section (third privacy section)
            if (privacySections[2]) {
                const rightsSubtitle = privacySections[2].querySelector('.section-subtitle');
                const rightsListItems = privacySections[2].querySelectorAll('.privacy-list li');
                
                if (rightsSubtitle) rightsSubtitle.textContent = t.rightsTitle;
                if (rightsListItems[0]) rightsListItems[0].textContent = t.right1;
                if (rightsListItems[1]) rightsListItems[1].textContent = t.right2;
            }
            
            // Protection Section (fourth privacy section)
            if (privacySections[3]) {
                const protectionSubtitle = privacySections[3].querySelector('.section-subtitle');
                const protectionText = privacySections[3].querySelector('.privacy-text');
                
                if (protectionSubtitle) protectionSubtitle.textContent = t.protectionTitle;
                if (protectionText) protectionText.textContent = t.protectionText;
            }
            
            // Contact Section (fifth privacy section)
            if (privacySections[4]) {
                const contactSubtitle = privacySections[4].querySelector('.section-subtitle');
                const contactText = privacySections[4].querySelector('.privacy-text');
                const contactInfo = privacySections[4].querySelector('.contact-info');
                
                if (contactSubtitle) contactSubtitle.textContent = t.contactTitle;
                if (contactText) contactText.textContent = t.contactText;
                
                if (contactInfo) {
                    const contactPs = contactInfo.querySelectorAll('p');
                    if (contactPs[0]) contactPs[0].innerHTML = `<strong>${t.creator}:</strong> Yesin Yagami`;
                    if (contactPs[1]) contactPs[1].innerHTML = `<strong>${t.website}:</strong> <a href="https://yesinyagami.carrd.co/" target="_blank">https://yesinyagami.carrd.co/</a>`;
                    if (contactPs[2]) contactPs[2].innerHTML = `<strong>${t.email}:</strong> yagami8095@hotmail.com`;
                }
            }
            
            // Update Khrael section
            document.querySelector('.khrael-text').textContent = t.khraelWisdom;
            document.querySelector('.khrael-translation').textContent = t.khraelTranslation;
            
            // Update buttons
            const agreeBtn = document.querySelector('.btn-agree');
            const disagreeBtn = document.querySelector('.btn-disagree');
            if (agreeBtn) agreeBtn.textContent = t.agree;
            if (disagreeBtn) disagreeBtn.textContent = t.disagree;
        }

        function getIPContent(lang) {
            const content = {
                'en': [
                    "This website may automatically collect your Internet Protocol (IP) address when you browse or use our services. The IP address is technical information used to identify your network device and ensure proper connection to the website. We collect IP addresses for purposes including but not limited to:",
                    "Website Functionality: To ensure the website operates normally and provides the services you request, such as tarot card reading features.",
                    "Security Protection: To monitor and prevent unauthorized access, fraud, or other potential security threats.",
                    "Statistical Analysis: To collect anonymized traffic data for analyzing website usage and improving user experience."
                ],
                'zh-cn': [
                    "当您浏览或使用我们的服务时，本网站可能会自动收集您的互联网协议（IP）地址。IP地址是用于识别您的网络设备并确保与网站正常连接的技术信息。我们收集IP地址的目的包括但不限于：",
                    "网站功能：确保网站正常运行并提供您请求的服务，如塔罗牌占卜功能。",
                    "安全保护：监控和防止未经授权的访问、欺诈或其他潜在安全威胁。",
                    "统计分析：收集匿名流量数据，分析网站使用情况并改善用户体验。"
                ],
                'zh-tw': [
                    "當您瀏覽或使用我們的服務時，本網站可能會自動收集您的網際網路協定（IP）位址。IP位址是用於識別您的網路設備並確保與網站正常連線的技術資訊。我们收集IP位址的目的包括但不限於：",
                    "網站功能：確保網站正常運行並提供您請求的服務，如塔羅牌占卜功能。",
                    "安全保護：監控和防止未經授權的訪問、詐騙或其他潛在安全威脅。",
                    "統計分析：收集匿名流量資料，分析網站使用情況並改善用戶體驗。"
                ],
                'ja': [
                    "本ウェブサイトは、お客様がサービスを閲覧または使用する際に、自動的にインターネットプロトコル（IP）アドレスを収集する場合があります。IPアドレスは、お客様のネットワークデバイスを識別し、ウェブサイトへの適切な接続を確保するために使用される技術情報です。IPアドレスを収集する目的には以下が含まれますが、これらに限定されません：",
                    "ウェブサイト機能：ウェブサイトが正常に動作し、タロットカード占いなどのお客様が要求するサービスを提供するため。",
                    "セキュリティ保護：不正アクセス、詐欺、その他の潜在的なセキュリティ脅威を監視し、防止するため。",
                    "統計分析：ウェブサイトの使用状況を分析し、ユーザーエクスペリエンスを向上させるために匿名化されたトラフィックデータを収集するため。"
                ]
            };
            return content[lang] || content['en'];
        }

        function getEmailContent(lang) {
            const content = {
                'en': [
                    "If you choose to register an account, subscribe to newsletters, submit inquiries, or participate in other interactive features on this website, we may collect your email address. The purposes of collecting email addresses include but not limited to:",
                    "Account Management: For registration, login, or password reset to ensure smooth use of personalized services on the website.",
                    "Communication and Notifications: To send you information related to tarot card readings, updates, or responses to your inquiries.",
                    "Marketing Promotions: If you consent to receive marketing information, we may send you promotional content or special offers."
                ],
                'zh-cn': [
                    "如果您选择注册账户、订阅通讯、提交询问或参与本网站的其他互动功能，我们可能会收集您的邮箱地址。收集邮箱地址的目的包括但不限于：",
                    "账户管理：用于注册、登录或密码重置，确保您顺利使用网站的个性化服务。",
                    "沟通和通知：向您发送与塔罗牌占卜相关的信息、更新或对您询问的回复。",
                    "营销推广：如果您同意接收营销信息，我们可能会向您发送促销内容或特别优惠。"
                ],
                'zh-tw': [
                    "如果您選擇註冊帳戶、訂閱通訊、提交查詢或參與本網站的其他互動功能，我們可能會收集您的電郵位址。收集電郵位址的目的包括但不限於：",
                    "帳戶管理：用於註冊、登入或密碼重設，確保您順利使用網站的個人化服務。",
                    "溝通和通知：向您發送與塔羅牌占卜相關的資訊、更新或對您查詢的回覆。",
                    "行銷推廣：如果您同意接收行銷資訊，我們可能會向您發送促銷內容或特別優惠。"
                ],
                'ja': [
                    "お客様がアカウント登録、ニュースレターの購読、お問い合わせの送信、またはこのウェブサイトの他のインタラクティブ機能への参加を選択した場合、お客様のメールアドレスを収集する場合があります。メールアドレスを収集する目的には以下が含まれますが、これらに限定されません：",
                    "アカウント管理：登録、ログイン、またはパスワードリセットのため、ウェブサイトのパーソナライズされたサービスの円滑な使用を確保するため。",
                    "コミュニケーションと通知：タロットカード占いに関連する情報、更新、またはお客様のお問い合わせへの返信を送信するため。",
                    "マーケティングプロモーション：お客様がマーケティング情報の受信に同意した場合、プロモーションコンテンツや特別オファーを送信する場合があります。"
                ]
            };
            return content[lang] || content['en'];
        }

        function getRightsContent(lang) {
            const content = {
                'en': [
                    "You may opt out of receiving marketing emails at any time by clicking the \"Unsubscribe\" link in the emails.",
                    "You have the right to access, modify, or delete the email data we have collected about you. Please contact us via the provided contact methods on the website."
                ],
                'zh-cn': [
                    "您可以随时通过点击邮件中的\"取消订阅\"链接来停止接收营销邮件。",
                    "您有权访问、修改或删除我们收集的关于您的邮箱数据。请通过网站提供的联系方式与我们联系。"
                ],
                'zh-tw': [
                    "您可以隨時透過點擊郵件中的\"取消訂閱\"連結來停止接收行銷郵件。",
                    "您有權訪問、修改或刪除我們收集的關於您的電郵資料。請透過網站提供的聯絡方式與我們聯絡。"
                ],
                'ja': [
                    "メールの\"配信停止\"リンクをクリックすることで、いつでもマーケティングメールの受信を停止することができます。",
                    "お客様について収集したメールデータにアクセス、修正、または削除する権利があります。ウェブサイトに記載されている連絡方法でお問い合わせください。"
                ]
            };
            return content[lang] || content['en'];
        }

        function getProtectionContent(lang) {
            const content = {
                'en': ["We implement appropriate technical and organizational measures to protect your email data from unauthorized access, loss, or disclosure. Your email address will be accessed only by authorized personnel when necessary and will not be shared with third parties without your consent, except as required by law."],
                'zh-cn': ["我们实施适当的技术和组织措施来保护您的邮箱数据免受未经授权的访问、丢失或披露。您的邮箱地址只有在必要时由授权人员访问，未经您同意不会与第三方共享，除非法律要求。"],
                'zh-tw': ["我們實施適當的技術和組織措施來保護您的電郵資料免受未經授權的訪問、遺失或披露。您的電郵位址只有在必要時由授權人員訪問，未經您同意不會與第三方共享，除非法律要求。"],
                'ja': ["お客様のメールデータを不正アクセス、紛失、または開示から保護するために、適切な技術的および組織的措置を講じています。お客様のメールアドレスは必要な場合にのみ権限のある担当者がアクセスし、お客様の同意なしに第三者と共有されることはありません（法律で要求される場合を除く）。"]
            };
            return content[lang] || content['en'];
        }

        function getContactContent(lang) {
            const content = {
                'en': ["If you have any questions about this Privacy Policy or our data handling practices, please contact us via the following methods:"],
                'zh-cn': ["如果您对本隐私政策或我们的数据处理方式有任何疑问，请通过以下方式联系我们："],
                'zh-tw': ["如果您對本隱私政策或我們的資料處理方式有任何疑問，請透過以下方式聯絡我們："],
                'ja': ["このプライバシーポリシーまたは当社のデータ処理方法について質問がある場合は、以下の方法でお問い合わせください："]
            };
            return content[lang] || content['en'];
        }

        async function agree() {
            if (isProcessing) return;
            
            isProcessing = true;
            const btn = document.getElementById('agreeBtn');
            btn.classList.add('loading');
            btn.innerHTML = '<span class="loading-spinner">⟳</span>';
            
            try {
                // Record consent
                localStorage.setItem('nightgod_privacy_consent', 'agreed');
                localStorage.setItem('nightgod_consent_date', new Date().toISOString());
                localStorage.setItem('nightgod_user_id', generateUserId());
                localStorage.setItem('nightgod_language', currentLanguage);
                
                // Simulate processing delay
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Show welcome message
                showWelcomeMessage();
                
                // Redirect to main tarot page
                setTimeout(() => {
                    window.location.href = './index.html';
                }, 2000);
                
            } catch (error) {
                console.error('Error processing consent:', error);
                btn.classList.remove('loading');
                btn.innerHTML = `<span>${translations[currentLanguage].agree}</span>`;
                isProcessing = false;
            }
        }

        async function disagree() {
            if (isProcessing) return;
            
            isProcessing = true;
            const btn = document.getElementById('disagreeBtn');
            btn.classList.add('loading');
            btn.innerHTML = '<span class="loading-spinner">⟳</span>';
            
            try {
                // Record disagreement
                localStorage.setItem('nightgod_privacy_consent', 'disagreed');
                localStorage.setItem('nightgod_consent_date', new Date().toISOString());
                
                // Simulate processing delay
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Redirect to our custom black page
                window.location.href = './disagree.html';
                
            } catch (error) {
                console.error('Error processing disagreement:', error);
                btn.classList.remove('loading');
                btn.innerHTML = `<span>${translations[currentLanguage].disagree}</span>`;
                isProcessing = false;
            }
        }

        function generateUserId() {
            return 'nightgod_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function showWelcomeMessage() {
            const notification = document.getElementById('welcomeNotification');
            const t = translations[currentLanguage];
            
            // Update welcome message text
            notification.querySelector('.notification-text').textContent = t.welcomeMessage;
            
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 500);
            }, 4000);
        }

        function showMainContent() {
            document.getElementById('mainContent').style.display = 'flex';
        }

        function goToMainSite() {
            // In production, this would go to the actual tarot platform
            window.location.href = './index.html';
        }
    </script>
</body>
</html>